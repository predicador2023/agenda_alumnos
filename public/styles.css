/* =========================================================
   Agenda de Alumnos — styles.css (Versión Final Unificada)
   ========================================================= */

/* ------------------------
   0) Reset y normalización
   ------------------------ */
*, *::before, *::after { box-sizing: border-box; }

html {
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell,
                "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  line-height: 1.5;
  color: #222;
  background: #f5f6f7;
}

img, svg { display: block; max-width: 100%; }
button, input, select, textarea { font: inherit; color: inherit; }
table { border-collapse: collapse; border-spacing: 0; }
ul, ol { padding-left: 1.25rem; }

/* ------------------------
   1) Variables de tema
   ------------------------ */
:root {
  --bg: #f5f6f7;
  --surface: #ffffff;
  --surface-2: #fafafa;
  --text: #222222;
  --muted: #666666;
  --border: #dcdfe3;

  --primary: #2f8fdb;
  --success: #2ecc71;
  --danger: #e74c3c;
  --warning: #f39c12;
  --info: #6c8cd5;

  --radius-xl: 14px;
  --radius: 10px;
  --radius-sm: 6px;

  --shadow-1: 0 1px 2px rgba(0,0,0,.06);
  --shadow-2: 0 6px 16px rgba(0,0,0,.08);

  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 28px;

  --font-1: 12px;
  --font-2: 13px;
  --font-3: 14px;
  --font-4: 16px;
  --font-5: 18px;
  --font-6: 22px;
  --font-7: 28px;
}

/* ------------------------
   2) Utilidades globales
   ------------------------ */
.hidden { display: none !important; }

.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0,0,0,0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

.container {
  max-width: 960px;
  margin: 0 auto;
  padding: var(--space-4);
}

.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: var(--space-4);
  box-shadow: var(--shadow-1);
}

/* ------------------------
   3) Tipografía y enlaces
   ------------------------ */
h1, h2, h3, h4 {
  color: #111;
  margin: 0 0 var(--space-3) 0;
  line-height: 1.25;
}

p { margin: 0 0 var(--space-3) 0; color: var(--text); }

a {
  color: #0366d6;
  text-decoration: none;
}
a:hover { text-decoration: underline; }

/* ------------------------
   4) Header con imagen y overlay
   ------------------------ */
header {
  position: relative;
  background: url('img/estudiantes_header.png') no-repeat center center;
  background-size: cover;
  height: 140px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  overflow: hidden;
}

header::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.40);
  z-index: 1;
}

header h1 {
  position: relative;
  z-index: 2;
  font-size: var(--font-7);
  font-weight: 800;
  color: #fff;
  letter-spacing: 0.2px;
  text-shadow: 0 2px 4px rgba(0,0,0,0.6);
  margin: 0;
}

/* ------------------------
   5) Layout principal y secciones
   ------------------------ */
main { max-width: 960px; margin: 0 auto; padding: var(--space-4); }

section {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: var(--space-4);
  margin: var(--space-4) 0;
  box-shadow: var(--shadow-1);
}

section > h2 {
  font-size: var(--font-5);
  font-weight: 700;
  margin-bottom: var(--space-3);
}

/* ------------------------
   6) Botones y grupos
   ------------------------ */
button {
  appearance: none;
  border: 1px solid var(--border);
  background: #f9f9f9;
  color: var(--text);
  font-size: var(--font-3);
  font-weight: 600;
  padding: 10px 14px;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all 140ms ease;
}

button:hover { background: #eee; border-color: #cfd3d9; }
button:active { transform: translateY(1px); }

.btn-primary { background: var(--success); border-color: #29b765; color: #fff; }
.btn-danger { background: var(--danger); border-color: #c0392b; color: #fff; }
.btn-info { background: var(--info); border-color: #5a79c0; color: #fff; }

.grupo-botones {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin: var(--space-3) 0;
}
.grupo-botones button { width: 100%; }

#btn-ingresar:hover { background: #f2fbf6; border-color: #bfe8cc; }
#btn-ver-lista:hover { background: #f3f8ff; border-color: #cfe0f7; }

/* ------------------------
   7) Formulario
   ------------------------ */
#form-section { background: var(--surface-2); padding: var(--space-3); }
form { display: grid; gap: var(--space-2); }
label { display: grid; gap: var(--space-1); font-size: var(--font-3); color: var(--muted); }

input, select {
  width: 100%;
  padding: 10px;
  font-size: var(--font-3);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  background: #fff;
}

/* ------------------------
   8) Tabla de ingresos (CORREGIDA PARA SCROLL)
   ------------------------ */
/* Envuelve tu tabla en el HTML con un div class="table-container" */
.table-container {
  width: 100%;
  overflow-x: auto; /* Permite scroll lateral en celulares */
  -webkit-overflow-scrolling: touch;
  border-radius: var(--radius);
  border: 1px solid var(--border);
}

table {
  width: 100%;
  min-width: 450px; /* Evita que la tabla se aplaste en 330px */
  background: #fff;
}

thead { background: #f1f3f5; }
th, td {
  border-bottom: 1px solid var(--border);
  padding: 10px;
  text-align: left;
  font-size: var(--font-3);
}

/* Botones dentro de la tabla */
.btn-editar, .eliminar {
    width: 32px;
    height: 32px;
    display: inline-flex !important; 
    align-items: center !important;  
    justify-content: center !important; 
    border-radius: 6px;
    border: 1px solid;
    margin: 2px;
}

.btn-editar { background-color: #fff9db; color: #856404; border-color: #ffeeba; }
.eliminar { background-color: #fff5f5; color: #721c24; border-color: #f5c6cb; }

/* ------------------------
   9) Estados y feedback
   ------------------------ */
.mensaje-confirmacion {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: linear-gradient(135deg, #4caf50, #2e7d32);
  color: #fff;
  padding: 12px 20px;
  border-radius: 8px;
  animation: aparecer 0.3s ease-out;
  z-index: 9999;
}

@keyframes aparecer {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ------------------------
   10) Dark mode automático
   ------------------------ */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0f1113;
    --surface: #15181b;
    --text: #eaeef2;
    --border: #2a2f35;
  }
  body { background: var(--bg); color: var(--text); }
  section { background: var(--surface); border-color: var(--border); }
  table { background: #1b1f24; border-color: var(--border); }
  input, select, button { background: #1b1f24; color: var(--text); border-color: var(--border); }
  th { background: #1e2329; }
}

/* ------------------------
   11) Cabecera de Filtros (NUEVO)
   ------------------------ */
.cabecera-filtros {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
}

.cabecera-filtros h2 {
    font-size: 1.1rem !important; /* Título controlado */
    margin: 0;
}

#filtro-mes-dinamico {
    padding: 6px 10px;
    font-size: 12px;
    max-width: 140px;
}

/* ------------------------
   12) Media Queries Finales (PARA 330px)
   ------------------------ */
@media (max-width: 400px) {
  header h1 { font-size: 1.2rem; }
  
  /* Forzamos scroll lateral para que no se corte nada */
  .table-container {
    display: block;
    width: 100%;
  }

  /* El título y selector se apilan solo si es necesario */
  @media (max-width: 350px) {
    .cabecera-filtros {
        flex-direction: column;
        align-items: stretch;
    }
    #filtro-mes-dinamico { max-width: 100%; }
    
    /* Botones de tabla en modo compacto */
    td:last-child {
        display: flex;
        flex-direction: column;
        gap: 4px;
    }
  }
}

#mensaje-vacio {
    text-align: center;
    padding: 20px;
    border: 1px dashed var(--border);
    margin-top: 10px;
    color: var(--muted);
}